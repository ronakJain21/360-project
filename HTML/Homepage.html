<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MessiIsTheGoat - Home</title>
    <link rel="stylesheet" href="../CSS/styles.css">
    <script src="https://kit.fontawesome.com/69d2da3707.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo-container">
                <img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQHnhWFBFpqpDEQE_DyEaYEXHwa8QY4mAsBTeZaif0XvmL1sXI2" alt="MessiIsTheGoat Logo" class="logo-image">
                <div class="logo-title">MessiIsTheGoat</div>
            </div>
            <a href="#" class="nav-link">Home</a>
            <a href="#" class="nav-link">Categories</a>
            <div class="search-container">
                <input type="text" placeholder="Search..." class="search-input">
                <button class="search-btn"><i class="fas fa-search"></i></button>
            </div>
            <a href="#" class="nav-link">Login</a>
            <a href="#" class="nav-button">Register</a>
        </nav>
    </header>

    <div class="container">
        <main>
            <section class="create-post-box">
                <div class="create-post-input">
                    <i class="fas fa-edit"></i>
                    <input type="text" placeholder="Create Post" readonly onClick="location.href='create-post.html'">
                </div>
                <div class="create-post-icons">
                    <i class="fas fa-image"></i>
                    <i class="fas fa-link"></i>
                    <i class="fas fa-edit"></i>
                </div>
            </section>
            <section class="create-thread-box">
                <div class="create-thread-input">
                    <i class="fas fa-comments"></i>
                    <input type="text" placeholder="Create Thread" readonly onClick="location.href='create-thread.html'">
                </div>
                <div class="create-thread-icons">
                    <i class="fas fa-hashtag"></i>
                    <i class="fas fa-link"></i>
                    <i class="fas fa-edit"></i>
                </div>
            </section>
            <div class="posts" id="posts-container">
                <!-- Post 1 -->
                <article class="post" id="post-1">
                    <div class="vote">
                        <button class="vote-btn upvote-btn" id="upvote-1"><i class="fas fa-arrow-up"></i></button>
                        <div class="vote-count" id="vote-count-1">980</div>
                        <button class="vote-btn downvote-btn" id="downvote-1"><i class="fas fa-arrow-down"></i></button>
                    </div>
                    <div class="post-info">
                        <h2><a href="#">Discussion Title 1</a></h2>
                        <p>Posted by <a href="#">user123</a> 1 hour ago</p>
                    </div>
                    <!-- Comment Section for Post 1 -->
                    <div class="comment-section">
                        <input type="text" placeholder="Add a comment..." class="comment-input">
                        <button class="comment-btn">Comment</button>
                    </div>
                </article>

                <!-- Post 2 about Messi -->
                <article class="post" id="post-2">
                    <div class="vote">
                        <button class="vote-btn upvote-btn" id="upvote-2"><i class="fas fa-arrow-up"></i></button>
                        <div class="vote-count" id="vote-count-2">950</div>
                        <button class="vote-btn downvote-btn" id="downvote-2"><i class="fas fa-arrow-down"></i></button>
                    </div>
                    <div class="post-content">
                        <h2>Messi - The Legend Continues</h2>
                        <p class="post-meta">Posted by <a href="#">soccerfan123</a> 2 hours ago</p>
                        <div class="post-body">
                            <p>Lionel Messi continues to astonish the world with his impeccable skills on the football pitch. Even after decades, his ability to change the course of the game with a single touch is something that upcoming players idolize.</p>
                            <p>His dedication to the sport and his team is unparalleled. Messi's presence on the field is enough to uplift the spirits of both his teammates and fans around the world. He is not just a player; he is a phenomenon that transcends the sport itself.</p>
                        </div>
                    </div>
                    <!-- Comment Section for Post 2 -->
                    <div class="comment-section">
                        <input type="text" placeholder="Add a comment..." class="comment-input">
                        <button class="comment-btn">Comment</button>
                    </div>
                </article>
            </div>
        </main>
        <aside class="sidebar">
            <section class="top-threads">
                <h3>Top Threads</h3>
                <ul>
                    <li><a href="#">Thread Title 1</a></li>
                    <li><a href="#">Thread Title 2</a></li>
                    <li><a href="#">Thread Title 3</a></li>
                </ul>
            </section>
            <section class="recent-posts">
                <h3>Recent Posts</h3>
                <ul>
                    <li><a href="#">Recent Post 1</a></li>
                    <li><a href="#">Recent Post 2</a></li>
                    <li><a href="#">Recent Post 3</a></li>
                </ul>
            </section>
        </aside>
    </div>

    <footer>
        <p>&copy; 2024 MessiIsTheGoat</p>
    </footer>
    <script>
        function sortPosts() {
            let postsContainer = document.getElementById('posts-container');
            let posts = Array.from(postsContainer.getElementsByClassName('post'));
            
            // Sort posts based on the vote count
            posts.sort((a, b) => {
                let votesA = parseInt(a.querySelector('.vote-count').innerText);
                let votesB = parseInt(b.querySelector('.vote-count').innerText);
                return votesB - votesA; // Sort in descending order
            });
            
            // Append posts back to the container in the new order
            posts.forEach(post => postsContainer.appendChild(post));
        }
        
        document.addEventListener('DOMContentLoaded', (event) => {
            var numberOfPosts = 2; // Update this based on actual number of posts
            for (let i = 1; i <= numberOfPosts; i++) {
                document.getElementById('upvote-' + i).addEventListener('click', function() {
                    upvote(i);
                    sortPosts(); // Sort posts after voting
                });
        
                document.getElementById('downvote-' + i).addEventListener('click', function() {
                    downvote(i);
                    sortPosts(); // Sort posts after voting
                });
            }
        });
        
        // Upvote and downvote functions
        function upvote(postId) {
            var voteCountElement = document.getElementById('vote-count-' + postId);
            var voteCount = parseInt(voteCountElement.innerText);
            voteCount++;
            voteCountElement.innerText = voteCount;
        }
        
        function downvote(postId) {
            var voteCountElement = document.getElementById('vote-count-' + postId);
            var voteCount = parseInt(voteCountElement.innerText);
            voteCount--;
            voteCountElement.innerText = voteCount;
        }
    </script>
</body>
</html>
